{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2021/11/10/devlog-dodge-a-better-touch-experience-and-the-end/","result":{"data":{"site":{"siteMetadata":{"title":"Marcus Sanatan"}},"markdownRemark":{"id":"b1f4562f-40eb-55b2-9b59-db30542913f0","excerpt":"This article was originally posted here: https://gameboymarcus.itch.io/dodge/devlog/312065/a-better-touch-experience-and-the-end Hi everyone! What started as a…","html":"<blockquote>\n<p>This article was originally posted here: <a href=\"https://gameboymarcus.itch.io/dodge/devlog/312065/a-better-touch-experience-and-the-end\">https://gameboymarcus.itch.io/dodge/devlog/312065/a-better-touch-experience-and-the-end</a></p>\n</blockquote>\n<p>Hi everyone! What started as a quick experiment of making a Godot game in Unity turned out to be more of an introduction to mobile game development. Godot’s tutorial project can be done in Unity, but not as easily. Unity for 2D seems much more difficult than the experience I had with Godot. That said, Unity’s mobile game tools are really good, particularly getting on-screen touch controls.</p>\n<h2>Touch Controls</h2>\n<p>The initial idea was to have players tap the screen by the edge to indicate what direction they should move towards. After some player testing, it quickly became evident that was a bad idea. Non-gamers tended to swipe and some players expected the character to follow and stop where they were tapping. Also, if someone played on a tablet or large enough mobile device, they’d have a worse experience.</p>\n<p>In the end, we just stuck with adding a single joystick to the screen. With the new input system, that was surprisingly easy. I added an Image to the canvas with the Joystick and just added a built-in “On-Screen Stick” script to the Image. That’s what you need for a joystick that can move around and go to the centre when released.</p>\n<p>With touch controls, I only wanted the joystick to appear when the game was run on a mobile device. However, I also want to test it as well, simulating touch events with a pointer (mouse). So I created a new component with the following script:</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections<span class=\"token punctuation\">.</span>Generic</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">UnityEngine</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MobileUIManager</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">MonoBehaviour</span></span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">[</span><span class=\"token attribute\"><span class=\"token class-name\">SerializeField</span></span><span class=\"token punctuation\">]</span> <span class=\"token class-name\">GameObject<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> mobileUI<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">[</span><span class=\"token attribute\"><span class=\"token class-name\">SerializeField</span></span><span class=\"token punctuation\">]</span> <span class=\"token class-name\"><span class=\"token keyword\">bool</span></span> showInEditor <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Start is called before the first frame update</span>\n    <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">Start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>Application<span class=\"token punctuation\">.</span>isMobilePlatform <span class=\"token operator\">||</span> <span class=\"token punctuation\">(</span>showInEditor <span class=\"token operator\">&amp;&amp;</span> Application<span class=\"token punctuation\">.</span>isEditor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">GameObject</span> ui <span class=\"token keyword\">in</span> mobileUI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                ui<span class=\"token punctuation\">.</span><span class=\"token function\">SetActive</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This script checks if I’m not running on a mobile or not in the editor testing the mobile UI, and simply makes them inactive. With this script, my WebGL build only shows the joystick on my phone but nothing on my laptop - pretty neat and easy to use in other projects!</p>\n<h2>Juice</h2>\n<p>I got some portfolio feedback and one of the main criticism was the simplicity of the games and lack of juice. Can’t argue with it, every game needs juice. Juice can be added in simple and large ways. The game already has audio and even some particle effects when a player collides with an enemy. I added trails to the player, which makes movement feel a bit smoother. It looks particularly good on mobile as the joystick allows movement outside the rigid four directions of the keyboard.</p>\n<p>I also created a new enemy type that falls diagonally. Every 25 seconds (1 second = 1 point) these little guys will spawn just to mess things up a bit. It’s an easy pattern the player can cater to, but some situations might catch them off guard.</p>\n<p>And there are just a few polish items. When you press a button, the player sees a dark translucent box around it. It’s a little visual acknowledgment of their action, and feedback is key for player engagement in and around the gameplay loop.</p>\n<h2>It Was Nice</h2>\n<p>This project certainly evolved more than I originally anticipated. But I’m glad it did grow in scope, I learned so much about mobile development with Unity like how to correctly scale the canvas for your game and how to add touch controls. I decided on workflow tools as well - I’m sticking with VS Code instead of Visual Studio (I love both, but I’m faster with the former), I work on my side projects in 2 weeks sprints with a small scope, I use GitHub projects for tracking (it’s not fully featured but it’s dead simple), I used the debugger with Unity to step through my code, I have a group of people to give me quick player feedback and so much more!</p>\n<p>If I were to spend more time on the game, I would add a simple mechanic like having a timer that depletes when the player doesn’t move - the more they have to move the more likely they’ll make a mistake. But I’ve got quite a few other things to learn in the Unity mobile space and more games to make!</p>\n<p>See you all for the next one</p>","frontmatter":{"title":"Devlog for Dodge: A Better Touch Experience, and the End","tags":["unity","game development"],"date":"2021-11-10","updated":null}},"previous":{"fields":{"slug":"/blog/2021/09/19/devlog-dodge-becoming-touch-friendly"},"frontmatter":{"title":"Devlog for Dodge: Becoming Touch Friendly"}},"next":{"fields":{"slug":"/blog/2021/12/31/devlog-making-the-elf-job"},"frontmatter":{"title":"Devlog for The Elf Job: Making The Elf Job"}}},"pageContext":{"id":"b1f4562f-40eb-55b2-9b59-db30542913f0","previousPostId":"e605efcd-46be-5abb-8732-4f957891e547","nextPostId":"a6d28fd1-64cf-5714-9281-62dcd6e6ae30"}},"staticQueryHashes":["1391858338"],"slicesMap":{}}